@import 'tailwindcss';
@import 'tw-animate-css';

@source "../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php";
@source "../../storage/framework/views/*.php";

/* -----------------------------
   0) THEME TOKENS (LIGHT/DARK)
-------------------------------- */
@layer base {
    :root {
        /* Base surfaces */
        --background: 0 0% 100%;
        --foreground: 222 47% 11%;

        --card: 0 0% 100%;
        --card-foreground: 222 47% 11%;

        --popover: 0 0% 100%;
        --popover-foreground: 222 47% 11%;

        /* Brand */
        --primary: 222 89% 55%;
        --primary-foreground: 0 0% 100%;

        --secondary: 220 14% 96%;
        --secondary-foreground: 222 47% 11%;

        --muted: 220 14% 96%;
        --muted-foreground: 215 16% 47%;

        --accent: 220 14% 96%;
        --accent-foreground: 222 47% 11%;

        /* Status */
        --destructive: 0 84% 60%;
        --destructive-foreground: 0 0% 100%;

        --success: 142 71% 45%;
        --success-foreground: 0 0% 100%;

        --warning: 38 92% 50%;
        --warning-foreground: 222 47% 11%;

        --info: 199 89% 48%;
        --info-foreground: 0 0% 100%;

        /* Borders & focus */
        --border: 220 13% 91%;
        --input: 220 13% 91%;
        --ring: 222 89% 55%;

        /* Radius */
        --radius: 14px;

        /* Typography */
        --font-sans:
            ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto,
            Helvetica, Arial, 'Apple Color Emoji', 'Segoe UI Emoji';
    }

    .dark {
        --background: 222 47% 6%;
        --foreground: 210 40% 98%;

        --card: 222 47% 9%;
        --card-foreground: 210 40% 98%;

        --popover: 222 47% 9%;
        --popover-foreground: 210 40% 98%;

        --primary: 222 89% 65%;
        --primary-foreground: 222 47% 8%;

        --secondary: 222 24% 16%;
        --secondary-foreground: 210 40% 98%;

        --muted: 222 24% 16%;
        --muted-foreground: 215 20% 65%;

        --accent: 222 24% 16%;
        --accent-foreground: 210 40% 98%;

        --destructive: 0 72% 52%;
        --destructive-foreground: 0 0% 100%;

        --success: 142 70% 40%;
        --success-foreground: 0 0% 100%;

        --warning: 38 92% 50%;
        --warning-foreground: 222 47% 8%;

        --info: 199 89% 52%;
        --info-foreground: 222 47% 8%;

        --border: 222 24% 18%;
        --input: 222 24% 18%;
        --ring: 222 89% 65%;
    }

    html {
        font-family: var(--font-sans);
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    body {
        @apply bg-[hsl(var(--background))] text-[hsl(var(--foreground))];
    }

    /* Better default selection */
    ::selection {
        @apply bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))];
    }

    /* Consistent focus ring */
    :focus-visible {
        outline: none;
        box-shadow: 0 0 0 3px hsl(var(--ring) / 0.35);
        border-radius: calc(var(--radius) - 6px);
    }
}

/* -----------------------------
   1) BASE ELEMENT STYLES
-------------------------------- */
@layer base {
    a {
        @apply text-[hsl(var(--primary))] underline-offset-4 hover:underline;
    }

    /* Better media defaults */
    img,
    video {
        @apply h-auto max-w-full;
    }

    /* Smooth scroll optionally (enable if you want) */
    /* html { scroll-behavior: smooth; } */

    /* Headings */
    h1 {
        @apply text-3xl font-semibold tracking-tight md:text-4xl;
    }
    h2 {
        @apply text-2xl font-semibold tracking-tight md:text-3xl;
    }
    h3 {
        @apply text-xl font-semibold tracking-tight md:text-2xl;
    }
    h4 {
        @apply text-lg font-semibold tracking-tight md:text-xl;
    }

    /* Prose content from WYSIWYG (pages/posts HTML) */
    .prose-content {
        @apply text-[15px] leading-7 md:text-base;
    }
    .prose-content p {
        @apply my-4;
    }
    .prose-content ul {
        @apply my-4 list-disc pl-6;
    }
    .prose-content ol {
        @apply my-4 list-decimal pl-6;
    }
    .prose-content blockquote {
        @apply my-4 border-l-4 border-[hsl(var(--border))] pl-4 text-[hsl(var(--muted-foreground))] italic;
    }
    .prose-content hr {
        @apply my-8 border-[hsl(var(--border))];
    }
    .prose-content a {
        @apply font-medium;
    }
    .prose-content table {
        @apply my-6 w-full border-collapse;
    }
    .prose-content th,
    .prose-content td {
        @apply border border-[hsl(var(--border))] px-3 py-2;
    }
}

/* -----------------------------
   2) LAYOUT UTILITIES
-------------------------------- */
@layer utilities {
    .container-app {
        @apply mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8;
    }

    .section {
        @apply py-10 md:py-14;
    }

    .section-title {
        @apply mb-6 flex items-center gap-3;
    }
    .section-title .line {
        @apply h-[2px] w-10 rounded-full bg-[hsl(var(--primary))];
    }

    .page-header {
        @apply border-b border-[hsl(var(--border))] bg-[hsl(var(--card))];
    }

    .glass {
        @apply bg-[hsl(var(--background))]/70 backdrop-blur supports-[backdrop-filter]:backdrop-blur;
    }
}

/* -----------------------------
   3) REUSABLE UI COMPONENTS
-------------------------------- */
@layer components {
    /* Card */
    .card {
        @apply rounded-[var(--radius)] border border-[hsl(var(--border))] bg-[hsl(var(--card))] text-[hsl(var(--card-foreground))] shadow-sm;
    }
    .card-header {
        @apply p-5 pb-3;
    }
    .card-title {
        @apply text-lg font-semibold;
    }
    .card-desc {
        @apply text-sm text-[hsl(var(--muted-foreground))];
    }
    .card-content {
        @apply p-5 pt-0;
    }
    .card-footer {
        @apply p-5 pt-0;
    }

    /* Badge */
    .badge {
        @apply inline-flex items-center rounded-full border border-[hsl(var(--border))] bg-[hsl(var(--secondary))] px-2.5 py-1 text-xs font-medium text-[hsl(var(--secondary-foreground))];
    }
    .badge-primary {
        @apply border-transparent bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))];
    }
    .badge-success {
        @apply border-transparent bg-[hsl(var(--success))] text-[hsl(var(--success-foreground))];
    }
    .badge-warning {
        @apply border-transparent bg-[hsl(var(--warning))] text-[hsl(var(--warning-foreground))];
    }
    .badge-danger {
        @apply border-transparent bg-[hsl(var(--destructive))] text-[hsl(var(--destructive-foreground))];
    }
    .badge-info {
        @apply border-transparent bg-[hsl(var(--info))] text-[hsl(var(--info-foreground))];
    }

    /* Button base (works even if you use shadcn/ui too) */
    .btn {
        @apply inline-flex items-center justify-center gap-2 rounded-[calc(var(--radius)-4px)] border border-transparent px-4 py-2 text-sm font-medium transition;
    }
    .btn-primary {
        @apply bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] hover:opacity-90;
    }
    .btn-outline {
        @apply border-[hsl(var(--border))] bg-transparent hover:bg-[hsl(var(--secondary))];
    }
    .btn-ghost {
        @apply bg-transparent hover:bg-[hsl(var(--secondary))];
    }
    .btn-danger {
        @apply bg-[hsl(var(--destructive))] text-[hsl(var(--destructive-foreground))] hover:opacity-90;
    }

    /* Inputs */
    .input {
        @apply w-full rounded-[calc(var(--radius)-6px)] border border-[hsl(var(--input))] bg-[hsl(var(--background))] px-3 py-2 text-sm placeholder:text-[hsl(var(--muted-foreground))] focus:ring-2 focus:ring-[hsl(var(--ring))/0.35] focus:outline-none;
    }
    .textarea {
        @apply min-h-[110px] w-full rounded-[calc(var(--radius)-6px)] border border-[hsl(var(--input))] bg-[hsl(var(--background))] px-3 py-2.5 text-sm placeholder:text-[hsl(var(--muted-foreground))] focus:ring-2 focus:ring-[hsl(var(--ring))/0.35] focus:outline-none;
    }
    .select {
        @apply w-full rounded-[calc(var(--radius)-6px)] border border-[hsl(var(--input))] bg-[hsl(var(--background))] px-3 py-2 text-sm placeholder:text-[hsl(var(--muted-foreground))] focus:ring-2 focus:ring-[hsl(var(--ring))/0.35] focus:outline-none;
    }

    /* Form helpers */
    .form-label {
        @apply mb-1.5 block text-sm font-medium;
    }
    .form-hint {
        @apply mt-1 text-xs text-[hsl(var(--muted-foreground))];
    }
    .form-error {
        @apply mt-1 text-xs text-[hsl(var(--destructive))];
    }

    /* Table */
    .table {
        @apply w-full border-separate border-spacing-0 overflow-hidden rounded-[var(--radius)] border border-[hsl(var(--border))] bg-[hsl(var(--card))];
    }
    .table thead th {
        @apply border-b border-[hsl(var(--border))] bg-[hsl(var(--secondary))] px-4 py-3 text-left text-xs font-semibold tracking-wide text-[hsl(var(--secondary-foreground))] uppercase;
    }
    .table tbody td {
        @apply border-b border-[hsl(var(--border))] px-4 py-3 text-sm;
    }
    .table tbody tr:hover td {
        @apply bg-[hsl(var(--secondary))]/50;
    }
    .table tbody tr:last-child td {
        @apply border-b-0;
    }

    /* Breadcrumbs */
    .breadcrumbs {
        @apply flex flex-wrap items-center gap-2 text-sm text-[hsl(var(--muted-foreground))];
    }
    .breadcrumbs a {
        @apply text-[hsl(var(--muted-foreground))] no-underline hover:text-[hsl(var(--foreground))];
    }
    .breadcrumbs .sep {
        @apply text-[hsl(var(--muted-foreground))]/70;
    }

    /* Pagination (Laravel blade pagination) */
    .pagination {
        @apply flex flex-wrap items-center gap-2;
    }
    .pagination a,
    .pagination span {
        @apply inline-flex min-w-9 items-center justify-center rounded-[calc(var(--radius)-6px)] border border-[hsl(var(--border))] bg-[hsl(var(--card))] px-3 py-2 text-sm hover:bg-[hsl(var(--secondary))];
    }
    .pagination .active span,
    .pagination .active a {
        @apply border-transparent bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))];
    }
    .pagination .disabled span {
        @apply cursor-not-allowed opacity-50 hover:bg-[hsl(var(--card))];
    }

    /* Skeleton */
    .skeleton {
        @apply animate-pulse rounded-md bg-[hsl(var(--secondary))];
    }
}

/* -----------------------------
   4) PUBLIC SITE SPECIFICS
-------------------------------- */
@layer components {
    /* Hero slider container */
    .hero {
        @apply relative overflow-hidden rounded-[var(--radius)] border border-[hsl(var(--border))] bg-[hsl(var(--card))];
    }
    .hero-overlay {
        @apply absolute inset-0 bg-gradient-to-t from-black/55 via-black/20 to-transparent;
    }
    .hero-content {
        @apply absolute right-0 bottom-0 left-0 p-6 text-white md:p-10;
    }

    /* Notice/News card */
    .news-card {
        @apply overflow-hidden rounded-[var(--radius)] border border-[hsl(var(--border))] bg-[hsl(var(--card))] text-[hsl(var(--card-foreground))] shadow-sm;
    }
    .news-card .meta {
        @apply flex flex-wrap items-center gap-2 text-xs text-[hsl(var(--muted-foreground))];
    }
    .news-card .title {
        @apply mt-2 text-base leading-snug font-semibold;
    }
    .news-card .excerpt {
        @apply mt-2 line-clamp-3 text-sm text-[hsl(var(--muted-foreground))];
    }

    /* Download card */
    .download-card {
        @apply flex items-start justify-between gap-4 rounded-[var(--radius)] border border-[hsl(var(--border))] bg-[hsl(var(--card))] p-5 text-[hsl(var(--card-foreground))] shadow-sm;
    }

    /* Gallery grid */
    .gallery-grid {
        @apply grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-4;
    }
    .gallery-img {
        @apply aspect-[4/3] w-full overflow-hidden rounded-[calc(var(--radius)-6px)] border border-[hsl(var(--border))] bg-[hsl(var(--secondary))];
    }
}

/* -----------------------------
   5) ADMIN LAYOUT HELPERS
-------------------------------- */
@layer components {
    .admin-shell {
        @apply min-h-screen bg-[hsl(var(--background))];
    }

    .admin-topbar {
        @apply sticky top-0 z-40 border-b border-[hsl(var(--border))] bg-[hsl(var(--background))]/80 backdrop-blur;
    }

    .admin-sidebar {
        @apply border-r border-[hsl(var(--border))] bg-[hsl(var(--card))];
    }

    .admin-content {
        @apply p-4 md:p-6;
    }

    .stat-card {
        @apply rounded-[var(--radius)] border border-[hsl(var(--border))] bg-[hsl(var(--card))] p-5 text-[hsl(var(--card-foreground))] shadow-sm;
    }

    /* DataTable toolbar */
    .datatable-toolbar {
        @apply flex flex-col gap-3 md:flex-row md:items-center md:justify-between;
    }
    .datatable-actions {
        @apply flex flex-wrap items-center gap-2;
    }
}

/* -----------------------------
   6) MODAL / TOAST / TRANSITIONS
-------------------------------- */
@layer components {
    .overlay {
        @apply fixed inset-0 bg-black/50 backdrop-blur-sm;
    }
    .modal {
        @apply mx-auto w-[92%] max-w-lg rounded-[var(--radius)] border border-[hsl(var(--border))] bg-[hsl(var(--card))] text-[hsl(var(--card-foreground))] shadow-sm md:w-full;
    }
    .modal-header {
        @apply p-5 pb-3;
    }
    .modal-body {
        @apply p-5 pt-0;
    }
    .modal-footer {
        @apply flex justify-end gap-2 p-5 pt-0;
    }

    .toast {
        @apply flex items-start gap-3 rounded-[var(--radius)] border border-[hsl(var(--border))] bg-[hsl(var(--card))] px-4 py-3 text-[hsl(var(--card-foreground))] shadow-lg;
    }

    .fade-in {
        @apply animate-in duration-200 fade-in;
    }
    .fade-out {
        @apply animate-out duration-200 fade-out;
    }
}

/* -----------------------------
   7) PRINT STYLES
-------------------------------- */
@media print {
    .no-print {
        display: none !important;
    }

    body {
        background: #fff !important;
        color: #000 !important;
    }

    a {
        text-decoration: none !important;
        color: #000 !important;
    }

    .card,
    .table {
        box-shadow: none !important;
    }
}
